<!-- crg -->
<div>
  <!-- Dimmer que ocupa toda la pantalla cuando isSaving() es true -->
  <div class="ui dimmer" [ngClass]="{ active: isSaving() }" [ngStyle]="{ position: isSaving() ? 'fixed' : 'relative' }">
    <div class="ui mini text loader">Loading</div>
  </div>
  <!-- <p>Contenido de la página</p> -->
  <!-- </div> -->
  <!-- Formulario para agregar curso -->
  <div class="bg-white p-8 rounded-lg border border-gray-200">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Información del Curso</h2>
    <form #cursoForm="ngForm" class="space-y-6">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Área -->
        <div>
          <label class="block text-sm font-medium">Área</label>
          <select [(ngModel)]="nuevoCurso().area_id" name="area_id" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm">
            <option value="" disabled>Seleccione Área</option>
            <option *ngFor="let area of areas()" [value]="area.id">
              {{ area.nombre }}
            </option>
          </select>
          <div *ngIf="!nuevoCurso().nombre && cursoForm.submitted" class="text-red-500 text-sm">
            El nombre es obligatorio.
          </div>
        </div>

        <!-- Especialidad -->
        <div>
          <label class="block text-sm font-medium">Especialidad </label>
          <select [(ngModel)]="nuevoCurso().especialidad_id" name="especialidad_id" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm">
            <option value="" disabled>Seleccione Especialidad</option>
            <option *ngFor="let especialidad of especialidades()" [value]="especialidad.id">
              {{ especialidad.nombre }}
            </option>
          </select>
          <div *ngIf="!nuevoCurso().especialidad_id && cursoForm.submitted" class="text-red-500 text-sm">
            El especialidad_id es obligatorio.
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium">Nombre del Curso</label>
          <input type="text" [(ngModel)]="nuevoCurso().nombre" name="nombre" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Nombre del curso" />
          <div *ngIf="!nuevoCurso().nombre && cursoForm.submitted" class="text-red-500 text-sm">
            El nombre es obligatorio.
          </div>
        </div>

        <!-- Clave -->
        <div>
          <label class="block text-sm font-medium">Clave</label>
          <input type="text" [(ngModel)]="nuevoCurso().clave" name="clave" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Clave" />
          <div *ngIf="!nuevoCurso().clave && cursoForm.submitted" class="text-red-500 text-sm">
            El nombre es obligatorio.
          </div>
        </div>

        <!-- Duración -->
        <div>
          <label class="block text-sm font-medium">Duración (Horas)</label>
          <input type="number" [(ngModel)]="nuevoCurso().duracion_horas" name="duracion_horas" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Duración en horas" />
          <div *ngIf="!nuevoCurso().duracion_horas && cursoForm.submitted" class="text-red-500 text-sm">
            Este campo es obligatorio.
          </div>
        </div>
      </div>

      <!-- Descripción -->
      <div>
        <label class="block text-sm font-medium">Descripción</label>
        <textarea [(ngModel)]="nuevoCurso().descripcion" name="descripcion" required
          class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Descripción del curso"
          #descripcion="ngModel"></textarea>
        <div *ngIf="descripcion.invalid && descripcion.touched" class="text-red-500 text-sm">
          La descripción es obligatoria.
        </div>
      </div>

      <!-- Nivel -->
      <div>
        <label class="block text-sm font-medium">Nivel</label>
        <select [(ngModel)]="nuevoCurso().nivel" name="nivel" required
          class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm">
          <option value="" disabled>Seleccione Nivel</option>
          <option value="Básico">Básico</option>
          <option value="Intermedio">Intermedio</option>
          <option value="Avanzado">Avanzado</option>
        </select>
        <div *ngIf="!nuevoCurso().nivel && cursoForm.submitted" class="text-red-500 text-sm">
          El nivel es obligatorio.
        </div>
      </div>























      <div class="flex space-x-4">
        <!-- Vigencia Inicio -->
        <div class="flex-1">
          <label class="block text-sm font-medium">Vigencia Inicio</label>
          <input type="date" [(ngModel)]="nuevoCurso().vigencia_inicio" name="vigencia_inicio" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Vigencia inicio" />
          <div *ngIf="!nuevoCurso().vigencia_inicio && cursoForm.submitted" class="text-red-500 text-sm">
            Este campo es obligatorio.
          </div>
        </div>

        <!-- Fecha de Publicación -->
        <div class="flex-1">
          <label class="block text-sm font-medium">Fecha de Publicación</label>
          <input type="date" [(ngModel)]="nuevoCurso().fecha_publicacion" name="fecha_publicacion" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm"
            placeholder="Fecha de publicación" />
          <div *ngIf="!nuevoCurso().fecha_publicacion && cursoForm.submitted" class="text-red-500 text-sm">
            Este campo es obligatorio.
          </div>
        </div>

        <!-- Costo -->
        <div class="flex-1">
          <label class="block text-sm font-medium">Costo</label>
          <input type="number" [(ngModel)]="nuevoCurso().costo" name="costo" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Costo del curso" />
          <div *ngIf="!nuevoCurso().costo && cursoForm.submitted" class="text-red-500 text-sm">
            Este campo es obligatorio.
          </div>
        </div>





      </div>

      <div class="flex space-x-4">
        <!-- Revisado por -->
        <div class="flex-1">
          <label class="block text-sm font-medium">Revisado por</label>
          <input type="text" [(ngModel)]="nuevoCurso().firmas.revisado.nombre" name="revisado_por" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Nombre" />
          <label class="block text-sm font-medium mt-2">Cargo</label>
          <input type="text" [(ngModel)]="nuevoCurso().firmas.revisado.cargo" name="cargo_revisado_por" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Cargo" />
          <div *ngIf="!nuevoCurso().firmas.revisado.nombre && cursoForm.submitted" class="text-red-500 text-sm">
            Este campo es obligatorio.
          </div>
        </div>

        <!-- Autorizado por -->
        <div class="flex-1">
          <label class="block text-sm font-medium">Autorizado por</label>
          <input type="text" [(ngModel)]="nuevoCurso().firmas.autorizado.nombre" name="autorizado_por" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Nombre" />
          <label class="block text-sm font-medium mt-2">Cargo</label>
          <input type="text" [(ngModel)]="nuevoCurso().firmas.autorizado.cargo" name="cargo_autorizado_por" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Cargo" />
          <div *ngIf="!nuevoCurso().firmas.autorizado.nombre && cursoForm.submitted" class="text-red-500 text-sm">
            Este campo es obligatorio.
          </div>
        </div>

        <!-- Elaborado por -->
        <div class="flex-1">
          <label class="block text-sm font-medium">Elaborado por</label>
          <input type="text" [(ngModel)]="nuevoCurso().firmas.elaborado.nombre" name="elaborado_por" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Nombre" />
          <label class="block text-sm font-medium mt-2">Cargo</label>
          <input type="text" [(ngModel)]="nuevoCurso().firmas.elaborado.cargo" name="cargo_elaborado_por" required
            class="mt-1 block w-full border border-gray-300 rounded-lg p-3 shadow-sm" placeholder="Cargo" />
          <div *ngIf="!nuevoCurso().firmas.elaborado.nombre && cursoForm.submitted" class="text-red-500 text-sm">
            Este campo es obligatorio.
          </div>
        </div>
      </div>





      <h2 class="text-2xl font-bold text-gray-800 mb-6">Objetivos del Curso</h2>

      <!-- Tabla de objetivos -->
      <div class="overflow-x-auto">
        <!-- Tabla de objetivos del curso -->
        <table class="w-full border-collapse border border-gray-300 mt-8">
          <thead>
            <tr class="bg-gray-100">
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-1/4">
                Título
              </th>
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-3/4">
                Descripción
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                OBJETIVO DEL CURSO
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.objetivo" name="objetivo"
                  class="w-full border border-gray-300 rounded-md p-2 resize-none" rows="3"></textarea>
              </td>
            </tr>
            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                PERFIL DE INGRESO
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.perfil_ingreso"
                  name="perfil_ingreso" class="w-full border border-gray-300 rounded-md p-2 resize-none"
                  rows="4"></textarea>
              </td>
            </tr>
            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                PERFIL DE EGRESO
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.perfil_egreso"
                  name="perfil_egreso" class="w-full border border-gray-300 rounded-md p-2 resize-none"
                  class="w-full border border-gray-300 rounded-md p-2 resize-none" rows="3"></textarea>
            </tr>

            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                PERFIL DEL DOCENTE / INSTRUCTOR
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.perfil_del_docente"
                  name="perfil_del_docente" class="w-full border border-gray-300 rounded-md p-2 resize-none"
                  rows="3"></textarea>
            </tr>
            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                METODOLOGÍA DE CAPACITACIÓN
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.metodologia"
                  name="metodologia" class="w-full border border-gray-300 rounded-md p-2 resize-none"
                  rows="3"></textarea>
              </td>
            </tr>
            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                BIBLIOGRAFÍA
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.bibliografia"
                  name="bibliografia" class="w-full border border-gray-300 rounded-md p-2 resize-none"
                  rows="3"></textarea>
              </td>
            </tr>
            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                CRITERIOS DE ACREDITACIÓN
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.criterios_acreditacion"
                  name="criterios_acreditacion" class="w-full border border-gray-300 rounded-md p-2 resize-none"
                  rows="3"></textarea>
              </td>
            </tr>
            <tr>
              <td class="border border-gray-300 px-4 py-2 font-medium w-1/4">
                RECONOCIMIENTO A LA PERSONA EGRESADA
              </td>
              <td class="border border-gray-300 px-4 py-2 w-3/4">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="nuevoCurso().objetivos.reconocimiento"
                  name="reconocimiento" class="w-full border border-gray-300 rounded-md p-2 resize-none"
                  rows="3"></textarea>
              </td>
            </tr>
          </tbody>
        </table>
      </div>


      <h2 class="text-2xl font-bold text-gray-800 mb-6">
        Contenido Programático
      </h2>

      <div class="overflow-x-auto">
        <table class="w-full border-collapse border border-gray-300 mt-8">
          <thead>
            <tr class="bg-gray-100">
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-1/12">
                No.
              </th>
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-2/12">
                Nombre del Tema
              </th>
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-1/12">
                Tiempo (HRS)
              </th>
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-2/12">
                Competencias a Desarrollar
              </th>
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-2/12">
                Instrumentos de Evaluación
              </th>
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-4/12">
                Actividades de Enseñanza-Aprendizaje
              </th>
              <th class="border border-gray-300 px-4 py-2 text-left font-semibold w-1/12">
                Acción
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let tema of nuevoCurso().contenidoProgramatico.temas; let i = index">
              <td class="border border-gray-300 px-4 py-2 text-center">{{ i + 1 }}</td>
              <td class="border border-gray-300 px-4 py-2">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="tema.tema_nombre" name="tema_nombre_{{i}}"
                  class="w-full border border-gray-300 px-2 py-1 rounded-md" rows="2"></textarea>
              </td>
              <td class="border border-gray-300 px-4 py-2 text-center">
                <input type="number" [(ngModel)]="tema.tiempo" name="tiempo_{{i}}"
                  class="w-full border border-gray-300 px-2 py-1 rounded-md" />
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="tema.competencias" name="competencias_{{i}}"
                  class="w-full border border-gray-300 px-2 py-1 rounded-md" rows="2"></textarea>
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="tema.evaluacion" name="evaluacion_{{i}}"
                  class="w-full border border-gray-300 px-2 py-1 rounded-md" rows="2"></textarea>
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <textarea pTextarea [autoResize]="true" [(ngModel)]="tema.actividades" name="actividades_{{i}}"
                  class="w-full border border-gray-300 px-2 py-1 rounded-md" rows="3"></textarea>
              </td>
              <td class="border border-gray-300 px-4 py-2 text-center">
                <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
                  (click)="eliminarTema(i)">
                  Eliminar
                </button>
              </td>
            </tr>
            <tr>
              <td colspan="6" class="border border-gray-300 px-4 py-2 text-center">
                Total Horas
              </td>
              <td class="border border-gray-300 px-4 py-2 text-center">
                {{ calcularTotalHoras() }}
              </td>
            </tr>
          </tbody>
        </table>
        <button type="button"
          class="mt-4 bg-white hover:bg-gray-200 text-blue-500 font-bold py-2 px-4 rounded border border-gray-200"
          (click)="agregarTema()">
          Agregar Tema
        </button>
      </div>





<h2 class="text-2xl font-bold text-gray-800 mb-6">Materiales</h2>

<div class="overflow-x-auto">
  <table class="w-full border-collapse border border-gray-300 mt-8">
    <thead>
      <tr class="bg-gray-100">
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" rowspan="2">Descripción</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" rowspan="2">Unidad de Medida</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" colspan="3">Cantidad por Número de
          Participantes</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" rowspan="2">Acción</th>
      </tr>
      <tr class="bg-gray-100">
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold">10</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold">15</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold">20</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let material of nuevoCurso().materiales; let j = index">
        <td class="border border-gray-300 px-4 py-2">
          <textarea [(ngModel)]="material.descripcion" [name]="'descripcion' + j"
            class="border border-gray-300 rounded-md px-2 py-1 w-full">{{material.descripcion}}</textarea>
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <select [(ngModel)]="material.unidad_de_medida" [name]="'unidad_de_medida' + j"
            class="border border-gray-300 rounded-md px-2 py-1 w-full">
            <option *ngFor="let option of unitOptions" [value]="option.value" [selected]="option.value === material.unidad_de_medida">
              {{ option.label }}
            </option>
          </select>
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <input type="number" [(ngModel)]="material.cantidad10" [name]="'cantidad10' + j"
            class="border border-gray-300 rounded-md px-2 py-1 w-full" [value]="material.cantidad10" />
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <input type="number" [(ngModel)]="material.cantidad15" [name]="'cantidad15' + j"
            class="border border-gray-300 rounded-md px-2 py-1 w-full" [value]="material.cantidad15" />
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <input type="number" [(ngModel)]="material.cantidad20" [name]="'cantidad20' + j"
            class="border border-gray-300 rounded-md px-2 py-1 w-full" [value]="material.cantidad20" />
        </td>
        <td class="border border-gray-300 px-4 py-2 text-center">
          <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
            (click)="eliminarMaterial(j)">
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <button (click)="agregarMaterial(); $event.stopPropagation()"
    class="mt-4 bg-white hover:bg-gray-200 text-blue-500 font-bold py-2 px-4 rounded border border-gray-200">
    Agregar Material
  </button>
</div>

<h2 class="text-2xl font-bold text-gray-800 mb-6">Equipamiento</h2>

<div class="overflow-x-auto">
  <table class="w-full border-collapse border border-gray-300 mt-8">
    <thead>
      <tr class="bg-gray-100">
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" rowspan="2">Descripción</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" rowspan="2">Unidad de Medida</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" colspan="3">Cantidad por Número de
          Participantes</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold" rowspan="2">Acción</th>
      </tr>
      <tr class="bg-gray-100">
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold">10</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold">15</th>
        <th class="border border-gray-300 px-4 py-2 text-left font-semibold">20</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let equipamiento of nuevoCurso().equipamiento; let k = index">
        <td class="border border-gray-300 px-4 py-2">
          <textarea [(ngModel)]="equipamiento.descripcion" [name]="'descripcion-equipamiento' + k"
            class="border border-gray-300 rounded-md px-2 py-1 w-full">{{equipamiento.descripcion}}</textarea>
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <select [(ngModel)]="equipamiento.unidad_de_medida" [name]="'unidad_de_medida-equipamiento' + k"
            class="border border-gray-300 rounded-md px-2 py-1 w-full">
            <option *ngFor="let option of unitOptions" [value]="option.value" [selected]="option.value === equipamiento.unidad_de_medida">
              {{ option.label }}
            </option>
          </select>
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <input type="number" [(ngModel)]="equipamiento.cantidad10" [name]="'cantidad10-equipamiento' + k"
            class="border border-gray-300 rounded-md px-2 py-1 w-full" [value]="equipamiento.cantidad10" />
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <input type="number" [(ngModel)]="equipamiento.cantidad15" [name]="'cantidad15-equipamiento' + k"
            class="border border-gray-300 rounded-md px-2 py-1 w-full" [value]="equipamiento.cantidad15" />
        </td>
        <td class="border border-gray-300 px-4 py-2">
          <input type="number" [(ngModel)]="equipamiento.cantidad20" [name]="'cantidad20-equipamiento' + k"
            class="border border-gray-300 rounded-md px-2 py-1 w-full" [value]="equipamiento.cantidad20" />
        </td>
        <td class="border border-gray-300 px-4 py-2 text-center">
          <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"
            (click)="eliminarEquipamiento(k)">
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <button class="mt-4 bg-white hover:bg-gray-200 text-blue-500 font-bold py-2 px-4 rounded border border-gray-200"
    (click)="agregarEquipamiento()">
    Agregar Equipamiento
  </button>
</div>




      

      <div class="mt-4">
        <!-- Botón para subir archivo (si no hay URL) -->
        <button *ngIf="!archivoUrl()" type="button"
          class="bg-white hover:bg-gray-100 text-blue-500 font-bold py-2 px-4 rounded border border-gray-200 flex items-center"
          (click)="mostrarModalSubirArchivo()">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
          </svg>
          Subir Archivo
        </button>

        <!-- Botón para ver el archivo (si hay URL) -->
        <div *ngIf="archivoUrl()" class="flex space-x-4">
          <a [href]="archivoUrl()" target="_blank" rel="noopener noreferrer"
            class="bg-white hover:bg-gray-100 text-blue-500 font-bold py-2 px-4 rounded border border-gray-200 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            Ver Archivo
          </a>

          <!-- Botón para cambiar archivo -->
          <button type="button"
            class="bg-white hover:bg-gray-100 text-blue-500 font-bold py-2 px-4 rounded border border-gray-200 flex items-center"
            (click)="mostrarModalSubirArchivo()">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
            Cambiar Archivo
          </button>
        </div>
      </div>

      <!-- Botón para guardar -->
      <div class="flex justify-end">
        <button type="submit" [disabled]="isSaving()" (click)="agregarCurso()"
          class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg shadow-md transition duration-300">
          <i *ngIf="isSaving()" class="loading circle icon"></i>
          {{btnTitle()}} Curso
        </button>
      </div>

      <!-- Alerta para mostrar mensajes -->
      <div *ngIf="alertMessage()" class="ui message"
        [ngClass]="{'success': alertType() === 'success', 'error': alertType() === 'error'}">
        <div class="header">
          {{ alertTitle() }}
        </div>
        <p>{{ alertMessage() }}</p>
      </div>

    </form>
  </div>
</div>












<div class="fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50" *ngIf="mostrarFormulario">
  <div class="bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-2xl flex flex-col space-y-4">
    <div class="w-full">
      <!-- <form enctype="multipart/form-data" class="space-y-4">
        <div class="grid grid-cols-1 gap-2">
          <div class="w-full mx-auto my-12">
            <h2 class="text-2xl font-semibold mb-6">Cargar Temario</h2>


            <div
              class="flex flex-col items-center justify-center h-40 border-2 border-gray-300 border-dashed rounded-md hover:border-blue-500 transition-colors duration-300">
              <svg *ngIf="!selectedFile" (click)="fileInput.click()" (dragover)="onDragOver($event)"
                (drop)="onDrop($event)" (dragleave)="onDragLeave($event)"
                class="w-16 h-14 text-gray-400 group-hover:text-blue-500 transition-colors duration-300" fill="none"
                stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
              </svg>

              <p *ngIf="!selectedFile"
                class="mt-6 text-gray-500 group-hover:text-blue-500 transition-colors duration-300">
                Selecciona un archivo para subir<br />o arrástralo aquí
              </p>

              <div *ngIf="selectedFile" class="mt-6 flex items-center space-x-4">
                <ng-container [ngSwitch]="fileExtension">
                  <svg *ngSwitchCase="'pdf'" class="w-8 h-8 text-red-500" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9l-7-7z"></path>
                  </svg>
                  <svg *ngSwitchCase="'doc'" class="w-8 h-8 text-blue-500" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M15.74 2.72c-.61 0-1.22.24-1.66.66L11.18 5.2l-.24-.2C10.17 4.53 9.65 4 9.01 4H7.99c-.6 0-1.14.27-1.52.73L3.4 7.47c-.44.47-.72 1.06-.83 1.69-.1.6-.07 1.23.1 1.8.38.95 1.24 1.72 2.25 1.86 1.51.2 3.02-.6 4.14-2.23 1.14 1.63 2.67 2.43 4.27 2.45 1.06 0 2.05-.28 2.91-.78l2.99 3.45c.45.51 1.11.78 1.8.78 1.32 0 2.48-1.03 2.56-2.36.1-1.02-.35-2.06-1.14-2.75-.85-.75-2.02-1.04-3.18-.93-1.31.14-2.53.81-3.17 1.84-.42-.73-.97-1.39-1.63-1.99-.75-.72-1.6-1.37-2.47-1.88-.27-.21-.58-.37-.88-.54l-1.05-.49.72-2.32c.33-1.06-.47-2.11-1.54-2.11z">
                    </path>
                  </svg>
                  <svg *ngSwitchCase="'xlsx'" class="w-8 h-8 text-green-500" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 3v18c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2z"></path>
                  </svg>
                  <div *ngSwitchDefault class="w-8 h-8 bg-gray-200 text-gray-400">
                    ?
                  </div>
                </ng-container>
                <p class="text-sm font-medium text-gray-700">
                  Archivo seleccionado: {{ selectedFile.name }}
                </p>
                <button type="button" class="mt-3 bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-md"
                  (click)="removeFile()">
                  Eliminar archivo
                </button>
              </div>
            </div>
            <label class="block mb-3 text-sm font-medium text-gray-700">O súbelo desde una URL</label>
            <div class="flex">
              <input type="text"
                class="flex-1 px-5 py-3 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                placeholder="https://ejemplo.com/archivo.csv" />
            </div>

            <input #fileInput type="file" (change)="onFileSelect($event)" hidden accept=".pdf" />
            <div class="flex justify-end">
              <button (click)="mostrarFormulario = false"
                class="mt-4 bg-white hover:bg-gray-100 text-blue-500 font-bold py-2 px-4 rounded border border-gray-200 flex items-center">
                Cerrar
              </button>
            </div>
          </div>

        </div>



      </form> -->
    </div>

 
  </div>