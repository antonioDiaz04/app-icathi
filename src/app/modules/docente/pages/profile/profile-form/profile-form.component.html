<section class="bg-white shadow-md rounded-lg p-6 mb-6">
    <form (ngSubmit)="onSubmit()" enctype="multipart/form-data" #form="ngForm">

        <!-- Imagen de perfil -->
        <div class="flex flex-col items-center mb-8">
            <div class="relative group">
                <img class="w-32 h-32 rounded-full border-4 border-[#F08762] shadow-lg object-cover" [src]="docenteData?.foto_url || 'https://via.placeholder.com/150'" alt="Foto de docente" />
                <div class="absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    <span class="text-white text-sm font-semibold">Cambiar foto</span>
                </div>
            </div>

            <label for="fileInput" class="mt-4 px-4 py-2 bg-[#F08762] text-white text-sm font-medium rounded-md shadow cursor-pointer hover:bg-[#e07654] transition-colors duration-300">
        Seleccionar archivo
      </label>
            <input #fileInput id="fileInput" type="file" class="hidden" (change)="onProfilePhotoSelected($event)" accept="image/*" />
        </div>

        <!-- Selector de especialidades -->
        <app-especialidades-selector [especialidades]="especialidades" [selectedEspecialidades]="selectedEspecialidades" (selectedEspecialidadesChange)="onEspecialidadesChange($event)">
        </app-especialidades-selector>

        <!-- Campos básicos en grid -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-6">
            <div>
                <label for="nombre" class="block font-bold text-gray-700">Nombre:</label>
                <input id="nombre" type="text" [(ngModel)]="docenteData.nombre" name="nombre" class="w-full p-3 mt-2 border border-gray-300 rounded-lg focus:ring-[#44509D] focus:border-[#F08762] transition" required />
            </div>

            <div>
                <label for="apellidos" class="block font-bold text-gray-700">Apellidos:</label>
                <input id="apellidos" type="text" [(ngModel)]="docenteData.apellidos" name="apellidos" class="w-full p-3 mt-2 border border-gray-300 rounded-lg focus:ring-[#44509D] focus:border-[#F08762] transition" required />
            </div>

            <div>
                <label for="email" class="block font-bold text-gray-700">Correo Electrónico:</label>
                <input id="email" type="email" [(ngModel)]="docenteData.email" name="email" class="w-full p-3 mt-2 border border-gray-300 rounded-lg focus:ring-[#44509D] focus:border-[#F08762] transition" required />
            </div>

            <div>
                <label for="telefono" class="block font-bold text-gray-700">Teléfono:</label>
                <input id="telefono" type="text" [(ngModel)]="docenteData.telefono" name="telefono" class="w-full p-3 mt-2 border border-gray-300 rounded-lg focus:ring-[#44509D] focus:border-[#F08762] transition" required />
            </div>


            <div>
                <label class="block font-bold text-gray-700">Estado de Validación:</label>
                <div class="mt-2 p-3 rounded-lg bg-gray-100">
                    <span class="font-semibold" [ngClass]="{
            'text-green-600': docenteData.fecha_validacion,
            'text-yellow-600': !docenteData.fecha_validacion
          }">
            {{ docenteData.fecha_validacion ? 'Verificado' : 'Pendiente de verificación' }}
          </span>
                    <div *ngIf="docenteData.fecha_validacion" class="text-sm text-gray-500">
                        Fecha: {{ docenteData.fecha_validacion | date:'mediumDate' }}
                    </div>
                </div>
            </div>
        </div>


        <!-- Componentes de upload de archivos -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-6">
            <app-file-upload label="Documento de Identificación (Archivo)" inputId="documento_identificacion_file" acceptedTypes=".jpg,.jpeg,.png,.pdf" [currentFileUrl]="getDocumentoIdentificacionUrl()" [originalFileUrl]="docenteData?.documento_identificacion || ''"
                [selectedFileName]="documentoIdentificacionFileName()" (fileSelected)="onDocumentoIdentificacionSelected($event)">
            </app-file-upload>

            <app-file-upload label="Currículum (Archivo)" inputId="curriculum_file" acceptedTypes=".pdf,.doc,.docx" [currentFileUrl]="getCurriculumUrl()" [originalFileUrl]="docenteData?.curriculum_url || ''" [selectedFileName]="curriculumFileName()" (fileSelected)="onCurriculumSelected($event)">
            </app-file-upload>

            <app-file-upload label="Cédula Profesional (Archivo)" inputId="cedula_profesional" acceptedTypes=".jpg,.jpeg,.png,.pdf" [currentFileUrl]="getCedulaUrl()" [originalFileUrl]="docenteData?.cedula_profesional || ''" [selectedFileName]="cedulaFileName()" (fileSelected)="onCedulaSelected($event)">
            </app-file-upload>
        </div>

        <!-- Sección de cambio de contraseña -->
        <div class="mb-6 border-t pt-6">
            <h3 class="text-lg font-bold text-gray-700 mb-4">Cambiar Contraseña</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <label for="current_password" class="block font-bold text-gray-700">Contraseña Actual:</label>
                    <input id="current_password" type="password" [(ngModel)]="passwordData.current_password" name="current_password" class="w-full p-3 mt-2 border border-gray-300 rounded-lg focus:ring-[#44509D] focus:border-[#F08762] transition">
                </div>
                <div>
                    <label for="new_password" class="block font-bold text-gray-700">Nueva Contraseña:</label>
                    <input id="new_password" type="password" [(ngModel)]="passwordData.new_password" name="new_password" class="w-full p-3 mt-2 border border-gray-300 rounded-lg focus:ring-[#44509D] focus:border-[#F08762] transition">
                </div>
                <div>
                    <label for="confirm_password" class="block font-bold text-gray-700">Confirmar Contraseña:</label>
                    <input id="confirm_password" type="password" [(ngModel)]="passwordData.confirm_password" name="confirm_password" class="w-full p-3 mt-2 border border-gray-300 rounded-lg focus:ring-[#44509D] focus:border-[#F08762] transition">
                </div>
            </div>
        </div>
        <!-- Botones -->
        <div class="mt-8 flex justify-center gap-6">
            <button type="submit" class="bg-[#44509D] text-white px-5 py-3 rounded-full shadow-md hover:bg-[#F08762] hover:shadow-lg transition">
        Guardar Cambios
      </button>
            <button type="button" class="bg-[#D8566C] text-white px-5 py-3 rounded-full shadow-md hover:bg-[#F08762] hover:shadow-lg transition" (click)="onCancel()">
        Cancelar
      </button>
        </div>
    </form>
</section>