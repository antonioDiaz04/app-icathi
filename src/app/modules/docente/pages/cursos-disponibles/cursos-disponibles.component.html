<!-- Contenedor principal -->
<div class="px-6 pt-6 pb-12 bg-slate-50 min-h-screen">


  <!-- Título de página -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-slate-900">Cursos Disponibles</h1>
    <p class="mt-2 text-slate-500">Explora todos los cursos disponibles para solicitar</p>
  </div>

  <!-- Barra de búsqueda + filtro -->
  <div class="flex flex-col md:flex-row gap-4 items-stretch md:items-center">
    <!-- input search -->
    <div class="flex-1">
      <label class="sr-only">Buscar</label>
      <div class="relative">
        <!-- icono lupa -->
        <svg class="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none">
          <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <circle cx="10.5" cy="10.5" r="7.5" stroke="currentColor" stroke-width="2"/>
        </svg>
        <input
          [(ngModel)]="q"
          type="text"
          placeholder="Buscar cursos por nombre, descripción o categoría..."
          class="w-full pl-11 pr-4 h-12 rounded-xl border border-slate-200 bg-white text-slate-800 placeholder-slate-400
                 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" />
      </div>
    </div>

    <!-- select -->
    <div class="w-full md:w-64">
      <label class="sr-only">Filtrar</label>
      <div class="relative">
        <select
          [(ngModel)]="categoriaSeleccionada"
          class="w-full h-12 appearance-none rounded-xl border border-slate-200 bg-white pr-10 pl-4
                 text-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
          <option *ngFor="let c of categorias" [value]="c">{{ c }}</option>
        </select>
        <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.19l3.71-3.96a.75.75 0 111.08 1.04l-4.25 4.53a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
        </svg>
      </div>
    </div>
  </div>

  <!-- Contador -->
  <p class="text-sm text-slate-500 mt-4">Mostrando {{ cursosFiltrados.length }} de {{ cursos.length }} cursos</p>

  <!-- Grid de tarjetas -->
  <div class="mt-4 grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Card -->
    <article *ngFor="let c of cursosFiltrados"
      class="bg-white rounded-2xl border border-slate-200 shadow-sm p-6 hover:shadow-md transition">

      <!-- Encabezado de card -->
      <div class="flex items-start justify-between">
        <div class="flex items-center gap-2">
          <span *ngIf="c.badge"
            class="inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold
                   bg-indigo-100 text-indigo-700">
            {{ c.badge }}
          </span>
        </div>
        <span class="text-sm text-slate-400">{{ c.categoria }}</span>
      </div>

      <h3 class="mt-3 text-lg font-semibold text-slate-900">{{ c.titulo }}</h3>
      <p class="mt-1 text-sm text-slate-500">{{ c.descripcion }}</p>

      <!-- Lista de características -->
      <ul class="mt-4 space-y-2 text-sm text-slate-700">
        <li class="flex items-center gap-2">
          <!-- reloj -->
          <svg class="h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
            <path d="M12 7v5l3 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          {{ c.horas }} horas
        </li>
        <li class="flex items-center gap-2">
          <!-- barras nivel -->
          <svg class="h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="14" width="4" height="7" rx="1" fill="currentColor"></rect>
            <rect x="10" y="10" width="4" height="11" rx="1" fill="currentColor" class="opacity-70"></rect>
            <rect x="17" y="6" width="4" height="15" rx="1" fill="currentColor" class="opacity-50"></rect>
          </svg>
          Nivel {{ c.nivel }}
        </li>
        <li class="flex items-center gap-2">
          <!-- usuarios/cupos -->
          <svg class="h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none">
            <path d="M16 14c2.761 0 5 2.239 5 5v1H3v-1c0-2.761 2.239-5 5-5h8Z" stroke="currentColor" stroke-width="2"/>
            <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
          </svg>
          {{ c.cupos }} cupos disponibles
        </li>
        <li class="flex items-center gap-2">
          <!-- calendario -->
          <svg class="h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="5" width="18" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
            <path d="M16 3v4M8 3v4M3 10h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Inicia: {{ fechaCorta(c.inicioISO) }}
        </li>
        <li class="flex items-center gap-2">
          <!-- usuario -->
          <svg class="h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
            <path d="M4 20c1.5-3 4.5-5 8-5s6.5 2 8 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          {{ c.instructor }}
        </li>
      </ul>

      <!-- Botón -->
      <div class="mt-5">
        <button
          (click)="solicitarCurso(c)"
          class="w-full h-12 inline-flex items-center justify-center gap-2 rounded-xl
                 bg-slate-900 text-white font-semibold shadow-sm hover:bg-slate-800
                 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-900">
          <!-- icono play -->
          <svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 5v14l11-7-11-7z"/>
          </svg>
          Solicitar Curso
        </button>
      </div>
    </article>
  </div>
</div>
